.row.row-holder.align-items-center
  .col-sm-6
    %h2.main-title.title-brand Welcome To Our TradeLines
    %span.subtitle Platform to boost your credit scores.
  .col-sm-6
    .d-flex.justify-content-end
      = link_to 'Fund Your Wallet', banking_informations_path, class: 'btn btn-cyan btn-xl', method: :get, remote: true
      = link_to 'Confirm Your Deposit', new_deposit_path, class: 'btn btn-cyan btn-xl', remote: true, method: :get

.row.row-holder.align-items-center.bg-grey-light
  .col-sm-6
    %h3.title.title-sub-brand All TradeLines
  .col-sm-6
    .d-flex.justify-content-end
      %span.wallet-amount.d-flex.align-items-center
        %i.icon.icon-wallet
        Wallet balance:
        - precision = user_wallet_balance_precision(current_user.wallet_balance)
        %strong
          = number_to_currency(current_user.wallet_balance, precision: 2)
      = link_to 'Withdraw Funds', new_withdraw_path, class: 'btn btn-secondary btn-xm', remote: true

.row.row-holder.align-items-center
  .col-sm-6.d-flex.align-items-center
    %form.w-100{action: '#'}
      .form-control-holder
        %input{type: 'search', class: 'form-control', placeholder: 'Search by bank name, price or credit limit...'}
        %i.fa.fa-search
  .col-sm-6.d-flex.align-items-center.justify-content-end
    %a.btn.btn-light-tertiary.btn-xxm.btn-reset-filters
      Remove Filter
      %i.fa.fa-times
    %a.btn-link.d-flex.align-items-center.btn-filters{href: '#', 'data-toggle': 'modal', 'data-target': '#filters-modal'}
      Filter
      %i.icon.icon-filter

.content-holder
  - if TradeLine.accessible_by(current_ability).count.zero?
    = render 'shared/no_data'
  - else
    = render 'trade_lines/index'

.modal#filters-modal{tabindex: '-1', role: 'dialog', 'aria-labelledby': 'filter-modal-label', 'aria-hidden': 'true'}
  .modal-dialog{role: 'document'}
    .modal-content
      .modal-header
        %h5.modal-title#filter-modal-label Modal title
        %button.close{'data-dismiss': 'modal', 'aria-label': 'Close'}
          %span{'aria-hidden': 'true'} Close
      .modal-body
        = form_tag trade_lines_path, method: :get do
          .col-md-12
            .row
              .col-md-12.trade-line-search-column{style: 'padding-bottom:15px'}
                = label_tag :bank, 'Bank', class: 'control-label', style: 'width: 10%'
                = select_tag :bank, options_for_select(@trade_lines.uniq.pluck(:bank), params[:bank]), multiple: true, class: 'form-control search-form'
            .row
              .col-md-6.trade-line-search-column{style: 'padding-bottom:15px'}
                = label_tag :state, 'State', class: 'control-label', style: 'width: 50%'
                = select_tag :state
              .col-md-6.trade-line-search-column{style: 'padding-bottom:15px'}
                = label_tag :special_add, 'Special Add Required?', class: 'control-label', style: 'width: 50%'
                = select_tag :special_add, options_for_select([['Yes', true], ['No', false]], params[:special_add]),
                include_blank: true
            .row
              .col-md-6.trade-line-search-column
                = label_tag :min_credit_limit, 'Min Credit Limit', class: 'control-label', style: 'width: 50%'
                = text_field_tag :min_credit_limit, params[:min_credit_limit],
                onKeyPress: "return isFloatPress(event);", onKeyUp: "return isFloatUp(event);",
                class: 'form-control search-form '
              .col-md-6.trade-line-search-column
                = label_tag :ssn_req, 'SSN Req?', class: 'control-label', style: 'width: 50%'
                = select_tag :ssn_req, options_for_select([['Yes', true], ['No', false]], params[:ssn_req]),
                include_blank: true
            .row
              .col-md-6.trade-line-search-column
                = label_tag :max_price, 'Max Price', class: 'control-label', style: 'width: 50%'
                = text_field_tag :max_price, params[:max_price],
                onKeyPress: "return isFloatPress(event);", onKeyUp: "return isFloatUp(event);",
                class: 'form-control search-form '
              .col-md-6.trade-line-search-column
                = label_tag :dl_req, 'DL Req?', class: 'control-label', style: 'width: 50%'
                = select_tag :dl_req, options_for_select([['Yes', true], ['No', false]], params[:dl_req]),
                include_blank: true
          &nbsp;
          &nbsp;
          .col-md-12
            .row
              .col-md-4.col-md-offset-4
                %button.btn.btn-primary.btn-block{type: 'submit'} Search
                &nbsp;
      .modal-footer
        %button.btn.btn-primary{'data-dismiss': 'modal', 'aria-label': 'Close'} Apply Filter
